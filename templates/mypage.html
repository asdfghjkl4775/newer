<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RestArt Mypage</title>
    <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static', path='mypage/css/bootstrap.css') }}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{ url_for('static', path='mypage/css/style.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='mypage/css/font-awesome.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='mypage/css/nav_top3.css') }}" rel="stylesheet">

    <!-- Responsive styles for this template -->
    <link href="{{ url_for('static', path='mypage/css/responsive.css') }}" rel="stylesheet">

    <!-- Colors for this template -->
    <link href="{{ url_for('static', path='mypage/css/colors.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='mypage/css/mypage_1.css') }}" rel="stylesheet">
</head>
<body>
<div id="nav_wrapper">
    <div class="topbar-section">
        <div class="container-fluid">
            <div class="row2 align-items-center justify-content-end"> <!-- Flexbox를 사용해 요소를 오른쪽에 정렬 -->
                <div id="search-ranking" class="col-auto"> <!-- 실시간 검색어 -->
                    <h2 class="blind">실시간 검색어</h2>
                    <div class="current-rank">
                        <span class="rank-number">1</span>
                        <span class="rank-title">김현수</span>
                    </div>
                    <ul>
                        <li>
                            <span class="rank-number">1</span>
                            <span class="rank-title">김현수</span>
                        </li>
                        <li>
                            <span class="rank-number">2</span>
                            <span class="rank-title">이민혁</span>
                        </li>
                        <li>
                            <span class="rank-number">3</span>
                            <span class="rank-title">이상준</span>
                        </li>
                        <li>
                            <span class="rank-number">4</span>
                            <span class="rank-title">이지원</span>
                        </li>
                        <li>
                            <span class="rank-number">5</span>
                            <span class="rank-title">이윤호</span>
                        </li>
                    </ul>
                </div>
                <div class="col-auto"> <!-- 검색 아이콘 -->
                    <input type="text" id="searchInput" class="form-control topsearch text-right" style="display: none;" placeholder="검색하기">
                    <i class="fa fa-search" id="searchIcon"></i>
                </div>
                <script>
                document.addEventListener("DOMContentLoaded", function() {
                    const searchInput = document.getElementById('searchInput');
                    const searchIcon = document.getElementById('searchIcon');

                    searchIcon.addEventListener('click', function() {
                        if (searchInput.style.display === "block") {
                            if (searchInput.value.trim() !== "") {
                                performSearch(searchInput.value); // 검색 실행
                            }
                        } else {
                            searchInput.style.display = "block"; // 검색창 표시
                            searchInput.focus(); // 포커스를 검색창에 둠
                        }
                    });

                    searchInput.addEventListener('keypress', function(event) {
                        if (event.key === "Enter") {
                            performSearch(searchInput.value);
                        }
                    });

                    function performSearch(query) {
                        console.log("검색어: ", query); // 실제 구현에서는 검색 결과 페이지로 리다이렉트 등의 로직 추가
                        // 예: window.location.href = '/search?query=' + encodeURIComponent(query);
                    }

                    // 추가된 부분: 문서를 클릭할 때 검색창 밖을 클릭하면 검색창을 숨김
                    document.addEventListener('click', function(event) {
                        const isClickInside = searchInput.contains(event.target) || searchIcon.contains(event.target);

                        if (!isClickInside) {
                            searchInput.style.display = "none"; // 검색창 숨김
                        }
                    });
                });
                </script>

            </div>
        </div>

    </div><!-- end topbar -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
        const currentRank = document.querySelector("#search-ranking .current-rank");
        const rankItems = document.querySelectorAll("#search-ranking ul li");

        let currentIndex = 0;

        function showNextRank() {
            if (rankItems.length === 0) return; // 순위 목록이 비어있으면 아무것도 하지 않음

            currentIndex = (currentIndex + 1) % rankItems.length; // 다음 순위로 이동
            const rankItem = rankItems[currentIndex];

            // 현재 순위를 업데이트
            currentRank.innerHTML = `
                <span class="rank-number">${rankItem.querySelector('.rank-number').textContent}</span>
                <span class="rank-title">${rankItem.querySelector('.rank-title').textContent}</span>
            `;
        }
        setInterval(showNextRank, 3000); // 2초마다 순위를 갱신
    });
    </script>

    <div class="header-section">
        <div class="container">
            <div class="row2">
                <div class="col-md-12">
                    <div class="logo">
                            <a href="{{ url_for('main_page') }}"><img class="logo_img" src="{{ url_for('static', path='main_page/image/RestArt.png') }}" alt=""></a>
                    </div>
                </div>
            </div><!-- end row -->
        </div><!-- end header-logo -->
    </div><!-- end header -->

    <header class="header">
        <div class="container">
            <nav class="navbar navbar-inverse navbar-toggleable-md">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#cloapediamenu" aria-controls="cloapediamenu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-md-center" id="cloapediamenu">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown has-submenu">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdown02" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">작가</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('artistinform') }}">작가 소개</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('enroll') }}">작품 등록</a></li>
                                </ul>
                        </li>
                        <li class="nav-item dropdown has-submenu">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">작품 보러가기</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('gallery') }}">갤러리</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">메타 버스</a></li>
                                </ul>
                        </li>
                        <li class="nav-item dropdown has-submenu">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">AI 작품 추천</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">풍수지리</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('ai_recomm') }}">AI 작품 추천</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">AR 인테리어</a></li>
                                </ul>
                        </li>
                        <li class="nav-item dropdown has-submenu">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdown05" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">커뮤니티</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('exhibition') }}">전시 정보</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('community_main') }}">인테리어 공유</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">리뷰</a></li>
                                </ul>
                        </li>
                            <li class="nav-item">
                                <a class="nav-link color-skyblue-hover" href="{{ url_for('imci') }}">아트컨설팅</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-skyblue-hover" href="{{ url_for('imci') }}">회사소개</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-skyblue-hover" href="{{ url_for('login') }}">로그인</a>
                            </li>
                    </ul>
                </div>
            </nav>
        </div><!-- end container -->
    </header><!-- end header -->
</div><!-- end wrapper -->
</body>

<body class="is-preload">
	<!-- Wrapper -->
    <div id="wrapper">
        <!-- Main -->
        <div id="main">

            <!-- Post -->
                <article class="post">
                    <header>
                        <div class="title">
                            <h2><a href="">최근 구매 내역</a></h2>
                            <p>최근 구매한 RestArt 작품입니다</p>
                        </div>
                        <div class="meta">
                            <time class="published" datetime="2015-11-01">May 1, 2024</time>
                            <a href="#" class="author"><span class="name">사용자 닉네임</span><img src="{{ url_for('static', path='mypage/image/user.jpg') }}" alt="" /></a>
                        </div>
                    </header>
                        <ul>
                            <div class="recent">
                               <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture.png') }}" alt="" /></a>
                            </div>
                            <div class="recent">
                                <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture1.jpg') }}" alt="" /></a>
                            </div>
                            <div class="recent">
                                <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture2.jpg') }}" alt="" /></a>
                            </div>
                            <div class="recent">
                                <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture3.jpg') }}" alt="" /></a>
                            </div>
                        </ul>
                    <p>최근 구매 내역</p>
                    <footer>
                        <ul class="actions">
                            <li><a href="single.html" class="button large">더보기</a></li>
                        </ul>
                    </footer>
                </article>

            <!-- Post -->
                <article class="post">
                    <header>
                        <div class="title">
                            <h2><a href="single.html">찜한 작품</a></h2>
                            <p>내가 RestArt 작품 중 찜한 작품</p>
                        </div>
                        <div class="meta">
                            <time class="published" datetime="2015-10-25">May 22, 2024</time>
                            <a href="#" class="author"><span class="name">사용자 닉네임</span><img src="{{ url_for('static', path='mypage/image/user.jpg') }}" alt="" /></a>
                        </div>
                    </header>
                        <ul>
                            <div class="recent">
                               <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture.png') }}" alt="" /></a>
                            </div>
                            <div class="recent">
                                <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture1.jpg') }}" alt="" /></a>
                            </div>
                            <div class="recent">
                                <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture2.jpg') }}" alt="" /></a>
                            </div>
                            <div class="recent">
                                <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture3.jpg') }}" alt="" /></a>
                            </div>
                        </ul>
                    <p>내가 찜한 작품</p>
                    <footer>
                        <ul class="actions">
                            <li><a href="single.html" class="button large">더보기</a></li>
                        </ul>
                    </footer>
                </article>

            <!-- Post -->
                <article class="post">
                    <header>
                        <div class="title">
                            <h2><a href="single.html">최근 본 작품</a></h2>
                            <p>내가 RestArt에서 최근 구경한 작품들</p>
                        </div>
                        <div class="meta">
                            <time class="published" datetime="2015-10-22">October 22, 2015</time>
                            <a href="#" class="author"><span class="name">Jane Doe</span><img src="{{ url_for('static', path='mypage/image/user.jpg') }}" alt="" /></a>
                        </div>
                    </header>
                    <ul>
                        <div class="recent">
                           <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture.png') }}" alt="" /></a>
                        </div>
                        <div class="recent">
                            <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture1.jpg') }}" alt="" /></a>
                        </div>
                        <div class="recent">
                            <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture2.jpg') }}" alt="" /></a>
                        </div>
                        <div class="recent">
                            <a href="single.html" class="image featured"><img src="{{ url_for('static', path='mypage/image/picture3.jpg') }}" alt="" /></a>
                        </div>
                    </ul>
                    <p>최근 본 작품들</p>
                    <footer>
                        <ul class="actions">
                            <li><a href="single.html" class="button large">더보기</a></li>
                        </ul>
                    </footer>
                </article>
        </div>

    <!-- Sidebar -->
        <section id="sidebar">

            <!-- Intro -->
                <section id="intro">
                    <a href="#" class="logo1"><img src="{{ url_for('static', path='mypage/image/user.jpg') }}" alt="" /></a>
                    <header>
                        <h2>사용자 닉네임</h2>
                        <p> <a href="http://html5up.net">개인정보수정</a></p>
                    </header>
                </section>

            <!-- Mini Posts -->
                <section class="scroll-section" id="scroll-section">
                    <div class="mini-posts">

                        <!-- Mini Post -->
                            <article class="mini-post">
                                <header>
                                    <h3><a href="single.html">구매내역 기반 추천 작품</a></h3>
                                    <time class="published" datetime="2015-10-20">작품명</time>
                                    <a href="#" class="author"><img src="{{ url_for('static', path='mypage/image/artist.png') }}" alt="" /></a>
                                </header>
                                <a href="single.html" class="image"><img src="{{ url_for('static', path='mypage/image/picture.png') }}" alt="" /></a>
                            </article>

                        <!-- Mini Post -->
                            <article class="mini-post">
                                <header>
                                    <h3><a href="single.html">찜내역 기반 추천 작품</a></h3>
                                    <time class="published" datetime="2015-10-18">작품명</time>
                                    <a href="#" class="author"><img src="{{ url_for('static', path='mypage/image/artist.png') }}" alt="" /></a>
                                </header>
                                <a href="single.html" class="image"><img src="{{ url_for('static', path='mypage/image/picture2.jpg') }}" alt="" /></a>
                            </article>

                        <!-- Mini Post -->
                            <article class="mini-post">
                                <header>
                                    <h3><a href="single.html">최근 본 내역 기반 추천 작품</a></h3>
                                    <time class="published" datetime="2015-10-17">작품명</time>
                                    <a href="#" class="author"><img src="{{ url_for('static', path='mypage/image/artist.png') }}" alt="" /></a>
                                </header>
                                <a href="single.html" class="image"><img src="{{ url_for('static', path='mypage/image/picture3.jpg') }}" alt="" /></a>
                            </article>

                    </div>
                </section>
        </section>
</div>
    <script>
        window.addEventListener('scroll', function() {
    var header = document.getElementById('scroll-section');
    var intro = document.getElementById('intro');
    var scrollPosition = window.scrollY;

    // 스크롤 위치가 270px 이상인 경우
    if (scrollPosition >= 200) {
        header.classList.add('active'); // active 클래스를 추가하여 transform이 활성화되도록 함
        intro.style.display = "none";
    } else {
        header.classList.remove('active'); // 스크롤 위치가 270px 미만인 경우 active 클래스 제거
        intro.style.display = "block";
    }
});
    </script>
</body>
</html>