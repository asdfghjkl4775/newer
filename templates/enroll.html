<!DOCTYPE html>
<html lang="en">
    <!-- Basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
        }
    </style>
    <!-- Site Metas -->
    <title>Cloapedia - Stylish Magazine Blog Template</title>
    <style>

        .button_container {
            display: inline-block; /* 기존 block을 inline-block으로 변경 */
            margin-right: 5px; /* 버튼 간 간격 조절 */
        }
        .button_group {
            display: flex; /* 버튼들을 가로로 정렬 */
            align-items: center; /* 버튼들의 세로 중앙 정렬 */
        }
        .btn1 {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        .btn1 i {
            margin-right: 5px; /* 아이콘과 텍스트 간 간격 */
        }
        @import url('https://fonts.googleapis.com/css?family=Amatic+SC');

        .description, .link {
          font-family: 'Amatic SC', cursive;
          text-align: center;
        }

        .description {
          font-size: 35px;
        }

        .btn1 {
          border: none;
          text-align: center;
          cursor: pointer;
          text-transform: uppercase;
          outline: none;
          overflow: hidden;
          position: relative;
          color: #fff;
          font-weight: 700;
          font-size: 15px;
          background-color: #222;
          padding: 17px 60px;
          margin: 10px 10px 10px 10px;
          box-shadow: 0 5px 15px rgba(0,0,0,0.20);
        }

        .btn1 span {
          position: relative;
          z-index: 1;
        }

        .btn1:after {
          content: "";
          position: absolute;
          left: 0;
          top: 0;
          height: 490%;
          width: 140%;
          background: #9999FF;
          -webkit-transition: all .5s ease-in-out;
          transition: all .5s ease-in-out;
          -webkit-transform: translateX(-98%) translateY(-25%) rotate(45deg);
          transform: translateX(-98%) translateY(-25%) rotate(45deg);
        }

        .btn1:hover:after {
          -webkit-transform: translateX(-9%) translateY(-25%) rotate(45deg);
          transform: translateX(-9%) translateY(-25%) rotate(45deg);
        }

        .link {
          font-size: 20px;
          margin-top: 30px;
        }

        .link a {
          color: #000;
          font-size: 25px;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.3.0/dropzone.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.3.0/dropzone.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="{{ url_for('static', path='enroll/css/bootstrap.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/colors.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/download_1.css') }}" rel="stylesheet">
    <!--<link href="{{ url_for('static', path='enroll/css/font-awesome.min.css') }}" rel="stylesheet">-->
    <link href="{{ url_for('static', path='enroll/css/nfont-awesome.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/min2_1.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/nav_top3.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/responsive.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/style_1.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='enroll/css/table_artist.css') }}" rel="stylesheet">
<body>
    <div id="nav_wrapper">
        <div class="topbar-section">
            <div class="container-fluid">
                <div class="row2 align-items-center justify-content-end"> <!-- Flexbox를 사용해 요소를 오른쪽에 정렬 -->
                    <div id="search-ranking" class="col-auto"> <!-- 실시간 검색어 -->
                        <h2 class="blind">실시간 검색어</h2>
                        <div class="current-rank">
                            <span class="rank-number">1</span>
                            <span class="rank-title">김현수</span>
                        </div>
                        <ul>
                            <li>
                                <span class="rank-number">1</span>
                                <span class="rank-title">김현수</span>
                            </li>
                            <li>
                                <span class="rank-number">2</span>
                                <span class="rank-title">이민혁</span>
                            </li>
                            <li>
                                <span class="rank-number">3</span>
                                <span class="rank-title">이상준</span>
                            </li>
                            <li>
                                <span class="rank-number">4</span>
                                <span class="rank-title">이지원</span>
                            </li>
                            <li>
                                <span class="rank-number">5</span>
                                <span class="rank-title">이윤호</span>
                            </li>
                        </ul>
                    </div>
                    <div class="col-auto"> <!-- 검색 아이콘 -->
                        <input type="text" id="searchInput" class="form-control topsearch text-right" style="display: none;" placeholder="검색하기">
                        <i class="fa fa-search" id="searchIcon"></i>
                    </div>
                    <script>
                    document.addEventListener("DOMContentLoaded", function() {
                        const searchInput = document.getElementById('searchInput');
                        const searchIcon = document.getElementById('searchIcon');

                        searchIcon.addEventListener('click', function() {
                            if (searchInput.style.display === "block") {
                                if (searchInput.value.trim() !== "") {
                                    performSearch(searchInput.value); // 검색 실행
                                }
                            } else {
                                searchInput.style.display = "block"; // 검색창 표시
                                searchInput.focus(); // 포커스를 검색창에 둠
                            }
                        });

                        searchInput.addEventListener('keypress', function(event) {
                            if (event.key === "Enter") {
                                performSearch(searchInput.value);
                            }
                        });

                        function performSearch(query) {
                            console.log("검색어: ", query); // 실제 구현에서는 검색 결과 페이지로 리다이렉트 등의 로직 추가
                            // 예: window.location.href = '/search?query=' + encodeURIComponent(query);
                        }

                        // 추가된 부분: 문서를 클릭할 때 검색창 밖을 클릭하면 검색창을 숨김
                        document.addEventListener('click', function(event) {
                            const isClickInside = searchInput.contains(event.target) || searchIcon.contains(event.target);

                            if (!isClickInside) {
                                searchInput.style.display = "none"; // 검색창 숨김
                            }
                        });
                    });
                    </script>

                </div>
            </div>

        </div><!-- end topbar -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
            const currentRank = document.querySelector("#search-ranking .current-rank");
            const rankItems = document.querySelectorAll("#search-ranking ul li");

            let currentIndex = 0;

            function showNextRank() {
                if (rankItems.length === 0) return; // 순위 목록이 비어있으면 아무것도 하지 않음

                currentIndex = (currentIndex + 1) % rankItems.length; // 다음 순위로 이동
                const rankItem = rankItems[currentIndex];

                // 현재 순위를 업데이트
                currentRank.innerHTML = `
                    <span class="rank-number">${rankItem.querySelector('.rank-number').textContent}</span>
                    <span class="rank-title">${rankItem.querySelector('.rank-title').textContent}</span>
                `;
            }
            setInterval(showNextRank, 3000); // 2초마다 순위를 갱신
        });
        </script>

        <div class="header-section">
            <div class="container">
                <div class="row2">
                    <div class="col-md-12">
                        <div class="logo">
                            <a href="{{ url_for('main_page') }}"><img class="logo_img" src="{{ url_for('static', path='main_page/image/RestArt.png') }}" alt=""></a>
                        </div>
                    </div>
                </div><!-- end row -->
            </div><!-- end header-logo -->
        </div><!-- end header -->

        <header class="header">
            <div class="container">
                <nav class="navbar navbar-inverse navbar-toggleable-md">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#cloapediamenu" aria-controls="cloapediamenu" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-md-center" id="cloapediamenu">
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown has-submenu">
                                <a class="nav-link dropdown-toggle" href="#" id="dropdown02" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">작가</a>
                                <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('artistinform') }}">작가 소개</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('enroll') }}">작품 등록</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown has-submenu">
                                <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">작품 보러가기</a>
                                <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('gallery') }}">갤러리</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">메타 버스</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown has-submenu">
                                <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">AI 작품 추천</a>
                                <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">풍수지리</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('ai_recomm') }}">AI 작품 추천</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">AR 인테리어</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown has-submenu">
                                <a class="nav-link dropdown-toggle" href="#" id="dropdown05" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">커뮤니티</a>
                                <ul class="dropdown-menu" aria-labelledby="dropdown02">
                                    <li><a class="dropdown-item" href="{{ url_for('exhibition') }}">전시 정보</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('community_main') }}">인테리어 공유</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('imci') }}">리뷰</a></li>
                                </ul>
                            </li>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-skyblue-hover" href="{{ url_for('imci') }}">아트컨설팅</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-skyblue-hover" href="{{ url_for('imci') }}">회사소개</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-skyblue-hover" href="{{ url_for('login') }}">로그인</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div><!-- end container -->
        </header><!-- end header -->

    </div><!-- end wrapper -->
    <div class="container_upload" style="background-image:url({{ url_for('static', path='enroll/image/RestArt_name.png') }})">

        <!-- HTML heavily inspired by https://blueimp.github.io/jQuery-File-Upload/ -->
        <div id="actions" class="row">
            <div>
              <!-- The fileinput-button span is used to style the file input field as button -->
                <div class="button_container fileinput-button dz-clickable">
                  <button class="btn1">
                      <i class="glyphicon glyphicon-plus"></i>
                  <span>Add files...</span>
                  </button>
                </div>

                <div class="button_container">
                  <button id="get" type="submit" class="btn1 start"><i class="icon fa-upload"></i>
                  <span>Start upload</span></button>
                </div>

                <div class="button_container">
                  <button type="reset" class="btn1 cancel"><i class="icon fa-cancel"></i>
                  <span>Cancel upload</span></button>
                </div>
            </div>

            <div class="col-lg-5">
              <!-- The global file processing state -->
              <span class="fileupload-process">
                <div id="total-progress" class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                  <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress=""></div>
                </div>
              </span>
            </div>
        </div>
        <div class="table table-striped files" id="previews">
            <div id="template" class="file-row dz-image-preview">
                <!-- This is used as the file preview template -->
                <div>
                    <span class="preview"><img data-dz-thumbnail></span>
                </div>
                <!--<div>
                    <p class="name" data-dz-name></p>
                    <strong class="error text-danger" data-dz-errormessage></strong>
                </div>-->
                <div>
                    <p class="size" data-dz-size></p>
                    <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                        <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress></div>
                    </div>
                </div>
                <div>
                    <button id="get2" class="btn btn-primary start">
                        <i class="glyphicon glyphicon-upload"></i>
                        <span>Start</span>
                    </button>
                    <button data-dz-remove class="btn btn-warning cancel">
                        <i class="icon fa-cancel"></i>
                        <span>Cancel</span>
                    </button>
                    <button data-dz-remove class="btn btn-danger delete">
                        <i class="icon fa-trash"></i>
                        <span>Delete</span>
                    </button>
                </div>
                <div id="painting_all" style="display: block;">
                    <table id="painting_inform1" class="painting_inform1" style="width:550px; display:block;">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Title</th>
                            <th>Year</th>
                            <th>Size</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><input class="table_inform" type="text"></td>
                            <td><input class="table_inform" type="text"></td>
                            <td><input class="table_inform" type="text"></td>
                            <td><input class="table_inform" type="text"></td>
                            <!--<td>James</td>
                            <td>Matman</td>
                            <td>(713) 123-8965</td> -->
                        </tr>
                        </tbody>
                    </table>
                    <table id="painting_inform2" class="painting_inform2" style="width:550px; display:block;">

                        <tbody>
                            <tr>
                                <td><textarea style="width:540px" rows="4" cols="50" placeholder="작품 정보를 입력하세요."></textarea></td>
                                <!--<td><input class="table_inform2" type="text" placeholder="작품 정보를 입력하세요." style="height: 100px;"></td>-->
                            </tr>
                        </tbody>

                    </table>
                     <table id="painting_inform3" class="painting_inform3" style="width:550px; display:none;">
                        <thead>
                            <tr><th>작품 감성 설명</th></tr>
                        </thead>
                         <tbody style="width:550px; height:150px;">
                            <tr>
                                <td style="width:550px">
                                    <div style="margin-top:90px;">
                                        <button class="btn">
                                            <i></i>
                                            <span>감성</span>
                                        </button>
                                        <button class="btn">
                                            <i></i>
                                            <span>감성</span>
                                        </button>
                                        <button class="btn">
                                            <i></i>
                                            <span>감성</span>
                                        </button>
                                    </div>
                                </td>

                                <!--<td><textarea style="width:540px" rows="4" cols="50" placeholder="출력된 감성"></textarea></td>-->
                                <!--<td><input class="table_inform2" type="text" placeholder="작품 정보를 입력하세요." style="height: 100px;"></td>-->
                            <tr>
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
        </div>
    <script>
function hideTablesOnUpload() {
    var table1 = document.querySelector(".table > div .painting_inform1");
    var table2 = document.querySelector(".table > div .painting_inform2");
    var table3 = document.querySelector(".table > div .painting_inform3");
    table1.style.display = "none";
    table2.style.display = "none";
    table3.style.display = "block";
}

// 파일 업로드 이벤트 리스너 등록
var stop_button = false;
var stop_num = 0;
/*while(!stop_button){
    document.getElementById("get").addEventListener("click", function() {
        hideTablesOnUpload();
    });
    stop_num += 1;
    if (stop_num == 100) {
        stop_button = true;
    };
};*/

/*document.getElementById("get").addEventListener("click", function() {
    if (stop_num < 100) {
        hideTablesOnUpload();
        stop_num +=1;
    }
});*/
const btn = document.getElementById("get");
btn.addEventListener("click", function() {
    var tables1 = document.querySelectorAll("#painting_inform1");
    var tables2 = document.querySelectorAll("#painting_inform2");
    var tables3 = document.querySelectorAll("#painting_inform3");

    tables1.forEach(function(table) {
        table.style.display = "none";
    });

    tables2.forEach(function(table) {
        table.style.display = "none";
    });

    tables3.forEach(function(table) {
        table.style.display = "block";
    });
});
/*document.getElementById("get").addEventListener("click", function() {
    hideTablesOnUpload();
});*/

    </script>
    <!-- Core JavaScript
    ================================================== -->
    <script src="{{ url_for('static', path='enroll/js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', path='enroll/js/jquery.min.js') }}"></script>
    <script>
        // Get the template HTML and remove it from the doumenthe template HTML and remove it from the doument
var previewNode = document.querySelector("#template");
previewNode.id = "";
var previewTemplate = previewNode.parentNode.innerHTML;
previewNode.parentNode.removeChild(previewNode);

var myDropzone = new Dropzone(".container", { // Make the whole body a dropzone
  url: "https://httpbin.org/post", // Set the url
  thumbnailWidth: 80,
  thumbnailHeight: 80,
  parallelUploads: 20,
  previewTemplate: previewTemplate,
  autoQueue: false, // Make sure the files aren't queued until manually added
  previewsContainer: "#previews", // Define the container to display the previews
  clickable: ".fileinput-button" // Define the element that should be used as click trigger to select files.
});

myDropzone.on("addedfile", function(file) {
  // Hookup the start button
  file.previewElement.querySelector(".start").onclick = function() { myDropzone.enqueueFile(file); };
});

// Update the total progress bar
myDropzone.on("totaluploadprogress", function(progress) {
  document.querySelector("#total-progress .progress-bar").style.width = progress + "%";
});

myDropzone.on("sending", function(file) {
  // Show the total progress bar when upload starts
  document.querySelector("#total-progress").style.opacity = "1";
  // And disable the start button
  file.previewElement.querySelector(".start").setAttribute("disabled", "disabled");
});

// Hide the total progress bar when nothing's uploading anymore
myDropzone.on("queuecomplete", function(progress) {
  document.querySelector("#total-progress").style.opacity = "0";
});

// Setup the buttons for all transfers
// The "add files" button doesn't need to be setup because the config
// `clickable` has already been specified.
document.querySelector("#actions .start").onclick = function() {
  myDropzone.enqueueFiles(myDropzone.getFilesWithStatus(Dropzone.ADDED));
};
document.querySelector("#actions .cancel").onclick = function() {
  myDropzone.removeAllFiles(true);
};

        /*function showForm(type) {
            if (type === 'feelings') {
                document.getElementById('painting_inform1').style.display = 'block';
                document.getElementById('painting_inform2').style.display = 'none';
                document.getElementById('get').style.background = '#D2C3A2';
                document.getElementById('button2').style.background = '#fff';

            } else if (type === 'feelings2') {
                document.getElementById('painting_inform1').style.display = 'none';
                document.getElementById('painting_inform1').style.display = 'block';
                document.getElementById('button2').style.background = '#D2C3A2';
                document.getElementById('button1').style.background = '#fff';
            }
        }*/

    </script>
</body>
</html>